<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>MiniScript Web</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

</head>
<body>
  <header>
    <h1>TALF - Compilador</h1>
    <p>DemostraciÃ³n de compilador web</p>
  </header>
  <main>
    <form method="post">
      <label for="code">CÃ³digo MiniScript:</label>
      <textarea id="code" name="code">{{ code }}</textarea>
      <button type="submit">Ejecutar</button>
    </form>

    <button id="help-button">Ver Manual de Sintaxis</button>

    <!-- Modal -->
    <div id="help-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>ðŸ“„ Manual del lenguaje</h2>
        <p>Se implementÃ³ este conjunto de funciones en el lenguaje:</p>

        <h3>âœ… Comentarios</h3>
        <p>Se escriben con <code>//</code> hasta el fin de lÃ­nea.</p>
        <pre><code>// esto es un comentario</code></pre>

        <h3>âœ… Sentencias soportadas</h3>
        <ul>
        <li><strong>print</strong>: imprime expresiones</li>
        <li><strong>asignaciÃ³n</strong>: <code>x = 42</code></li>
        <li><strong>if</strong>: sin else, usando llaves</li>
        <li><strong>while</strong>: con llaves</li>
        </ul>
        <pre><code>if x > 5 {
    print "mayor a 5"
    }</code></pre>
        <pre><code>while x < 10 {
    print x
    x = x + 1
    }</code></pre>

        <h3>âœ… Expresiones</h3>
        <p>Admite enteros, flotantes, cadenas, variables y operadores aritmÃ©ticos (+, -, *, /) y de comparaciÃ³n (==, !=, &gt;, &lt;, &gt;=, &lt;=).</p>
        <pre><code>2 + 3 * 4
    nombre + " " + apellido</code></pre>

        <h3>âœ… Literales especiales</h3>
        <ul>
        <li><code>true</code>, <code>false</code>: booleanos</li>
        <li><code>nil</code>: valor nulo</li>
        </ul>

        <h3>âœ… Reglas de bloque</h3>
        <ul>
        <li>Siempre usar <code>{ }</code> en <code>if</code> y <code>while</code></li>
        <li>No hay <code>else</code></li>
        <li>Sin funciones definidas todavÃ­a</li>
        </ul>

        <h3>ðŸš§ Limitaciones</h3>
        <ul>
        <li>Sin <code>for</code></li>
        <li>Variables solo globales</li>
        <li>Sin listas ni arrays</li>
        <li>Identificadores distinguen mayÃºsculas/minÃºsculas</li>
        </ul>

        <h3>ðŸ“Œ Ejemplo completo</h3>
        <pre><code>x = 0
    max = 5

    while x < max {
    print "IteraciÃ³n: " + x
    x = x + 1
    }

    if x == max {
    print "Terminado"
    }</code></pre>
    </div>
    </div>


    <div class="results">
      <div>
        <h2>AST</h2>
        <pre>{{ ast }}</pre>
      </div>
      <div>
        <h2>Resultado del intÃ©rprete</h2>
        <pre>{{ output }}</pre>
      </div>
    </div>
  </main>
  <footer>
    &copy; 2025 Sady Guzman - Diego Alfaro
  </footer>

    <script>
    const modal = document.getElementById("help-modal");
    const btn = document.getElementById("help-button");
    const span = document.getElementsByClassName("close")[0];

    btn.onclick = function() {
        modal.style.display = "block";
    }
    span.onclick = function() {
        modal.style.display = "none";
    }
    window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        }
    }
    </script>


</body>



</html>
